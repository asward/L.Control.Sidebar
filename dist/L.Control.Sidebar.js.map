{"version":3,"sources":["webpack://sidebar/webpack/bootstrap","webpack://sidebar/./src/L.Control.Sidebar.js","webpack://sidebar/./src/Sidebar.css","webpack://sidebar/./src/SidebarButton.js","webpack://sidebar/./src/SidebarData.js","webpack://sidebar/./src/SidebarTab.js","webpack://sidebar/./src/SidebarTabButton.js","webpack://sidebar/./src/SidebarTabButtonPalette.js","webpack://sidebar/./src/SidebarTabItem.js"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;ACjF6C;AACM;AACnD,mBAAO,CAAC,wCAAe;;AAEvB;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,S;;AAEA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,0BAA0B,yDAAU;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,2DAA2D,0BAA0B,EAAE;AACvF,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,2BAA2B,kBAAkB;AAC7C,SAAS;;AAET;AACA,6FAA6F,kBAAkB;;AAE/G;AACA,8BAA8B,+DAAa;;AAE3C;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,gEAAgE,qBAAqB,EAAE;AACvF,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB;AACjB;AACA;AACA;;AAEA;;AAEA,2CAA2C,QAAQ;AACnD;AACA;AACA;;AAEA,gDAAgD,QAAQ;AACxD;AACA;AACA;;AAEA,+CAA+C,QAAQ;AACvD;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb,kCAAkC,SAAS;;AAE3C;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA,UAAU;;;;;;;;;;;;AChWV,uC;;;;;;;;;;;;;;;;;ACGO;AACP;AACA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6DAA6D,2BAA2B;;AAExF;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sDAAsD,QAAQ;;AAE9D;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;;;;;;;;;;;;AC3HA;AAAA;AAAA;AAAA,CAAsD;;AAE/C,0BAA0B,iEAAc;AAC/C;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAwE;AACf;AACV;;AAExC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAoC,aAAa,yBAAyB,eAAe;;AAEzF,kB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,IAAI,gBAAgB;AACpE;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET,6BAA6B,qEAAgB;;AAE7C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B,2DAAW,EAAE,wBAAwB;;AAEhE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA2B,2DAAW;;AAEtC;AACA;;AAEA;AACA;;AAEA;;AAEA,wCAAwC;;AAExC;AACA,6BAA6B,mFAAuB;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,eAAe;AACrC;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzHA;AAAA;AAAA;AAAA,CAAsD;;;AAG/C,+BAA+B,iEAAc;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA,sDAAsD,eAAe;AACrE;AACA;AACA,wFAAwF,eAAe;AACvG;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA,CAAsD;;AAE/C,sCAAsC,iEAAc;;AAE3D;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;;;;;;;;;;;;AClDA;AAAA;AAAA,CAAQ;;AAER;AACA,oCAAoC;AACpC;;AAEA;AACA;AACA;AACA,aAAa;AACb;;;AAGA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA,+B;AACA;;AAEA;AACA,+BAA+B,2HAA2H,8CAA8C;;AAExM;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;;AAGA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"L.Control.Sidebar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/L.Control.Sidebar.js\");\n","\r\nimport { SidebarTab } from \"./SidebarTab.js\";\r\nimport { SidebarButton } from \"./SidebarButton.js\";\r\nrequire(\"./Sidebar.css\");\r\n \r\n/**\r\n * @name Sidebar\r\n * @class L.Control.Sidebar\r\n * @extends L.Control\r\n * @param {string} id - The id of the sidebar element (without the # character)\r\n * @param {Object} [options] - Optional options object\r\n * @param {string} [options.position=left] - Position of the sidebar: 'left' or 'right'\r\n * @see L.control.sidebar\r\n */\r\nL.Control.Sidebar = L.Control.extend(/** @lends L.Control.Sidebar.prototype */ {\r\n    includes: (L.Evented.prototype || L.Mixin.Events),\r\n\r\n    options: {\r\n        position: 'left',\r\n        id: 'sidebar',\r\n        max_tab: 4,\r\n    },\r\n\r\n    initialize: function (id, options) {\r\n        var i, child;\r\n\r\n        L.setOptions(this, options);\r\n\r\n        this.id_counter = 1;\r\n\r\n        \r\n\r\n        ////\r\n        // SIDEBAR DOM\r\n        ////        \r\n        this._sidebar = L.DomUtil.get(id);\r\n        if (this._sidebar === null) {\r\n            this._sidebar = L.DomUtil.create('div', 'sidebar collapsed');\r\n            this._sidebar.id = this.options.id;\r\n\r\n            document.body.prepend(this._sidebar);\r\n        } \r\n\r\n        // Attach .sidebar-left/right class\r\n        L.DomUtil.addClass(this._sidebar, 'sidebar-' + this.options.position);\r\n\r\n        // Attach touch styling if necessary\r\n        if (L.Browser.touch)\r\n            L.DomUtil.addClass(this._sidebar, 'leaflet-touch');\r\n\r\n\r\n\r\n        ////\r\n        // TABS DOM\r\n        //// \r\n        this.tabs_dom = this._sidebar.querySelector('sidebar-tabs') || L.DomUtil.create('div', 'sidebar-tabs', this._sidebar);\r\n\r\n        //TABs w/ CONTENT\r\n        this.content_dom = this._sidebar.querySelector('.sidebar-content') || L.DomUtil.create('div', 'sidebar-content', this._sidebar);\r\n        this._content_items = this.content_dom.querySelectorAll('div.sidebar-pane');\r\n\r\n        this.tabs_list_dom = this._sidebar.querySelector('ul.sidebar-tab-list') || L.DomUtil.create('ul', 'sidebar-tab-list', this.tabs_dom);\r\n        this._tabitems = [];\r\n        this.tabs_list_dom.querySelectorAll('li').forEach((t) => {\r\n            this._tabitems.push(t);\r\n            this.initialize_on_click(t);\r\n        });\r\n\r\n        //TABs w/o CONTENT\r\n        this.controls_list_dom = this._sidebar.querySelector('ul.sidebar-control-list') || L.DomUtil.create('ul', 'sidebar-control-list', this.tabs_dom);\r\n        this._control_items = [];\r\n        this.controls_list_dom.querySelectorAll('li').forEach((c) => {\r\n            this._control_items.push(c);\r\n        });\r\n\r\n        //TODO\r\n        document.addEventListener('show_data', (e) => {\r\n            var new_data_tab = this.add_tab(e.detail);\r\n            new_data_tab.AddData(e.detail);\r\n            this.OpenTab(new_data_tab);\r\n        }, false);\r\n    },\r\n\r\n    add_tab: function(_opts) {\r\n        var tab_opts = Object.assign({\r\n            icon: \"fas fa-question-circle\",\r\n            id: `control_${this.id_counter++}`,\r\n            title: '',\r\n            removeable: true,\r\n            open_now: false,\r\n            async: true,\r\n            dom: null,\r\n            html: null,\r\n        }, _opts);\r\n\r\n        //CREATE TAB\r\n        var new_tab = new SidebarTab(this, tab_opts);\r\n        \r\n        if (tab_opts.removeable) {\r\n            this._tabitems.push(new_tab);\r\n        }\r\n\r\n        if (this._tabitems.length > this.options.max_tab) {\r\n            this.remove_tab();\r\n        }\r\n\r\n        this.tabs_list_dom.appendChild(new_tab.TabDOMObject);\r\n        this.content_dom.appendChild(new_tab.ContentDOMObject);\r\n\r\n        this.initialize_on_click(new_tab.TabDOMObject);\r\n\r\n        if (tab_opts.open_now) {\r\n            this.open(new_tab);\r\n        }\r\n        \r\n        return new_tab;\r\n    },\r\n\r\n    remove_tab: function(arg) {\r\n        var index = -1;\r\n        if (typeof arg === 'object') {\r\n            index = this._tabitems.indexOf(arg);\r\n        } else if (typeof arg === 'string') {\r\n            //FIND INDEX FROM ID\r\n            index = this._tabitems.findIndex(function (e) { return e.opts.id === arg; });\r\n        } else if (typeof arg === 'number') {\r\n            //USE AS INDEX        \r\n            index = arg;\r\n        } else if (typeof arg === 'undefined') {\r\n            //USE AS INDEX        \r\n            index = 0;\r\n        }\r\n\r\n        if (index > -1) {\r\n            this._tabitems[index].TabDOMObject.parentNode.removeChild(this._tabitems[index].TabDOMObject);\r\n            this._tabitems[index].ContentDOMObject.parentNode.removeChild(this._tabitems[index].ContentDOMObject);\r\n\r\n            this._tabitems.splice(index, 1);\r\n        }\r\n\r\n        this.close();\r\n    },\r\n\r\n    add_control: function(_opts) {\r\n\r\n        var control_opts = Object.assign({\r\n            icon: \"fas fa-question-circle\",\r\n            id: `control_${this.id_counter++}`\r\n        }, _opts);\r\n\r\n        //control_opts.icon = control_opts.hasOwnProperty('icon') ? control_opts.icon : \"fas fa-question-circle\";\r\n        //control_opts.id = control_opts.hasOwnProperty('id') ? control_opts.id : `control_${this.id_counter++}`;\r\n\r\n        //CREATE TAB\r\n        var new_control = new SidebarButton(this, control_opts);\r\n\r\n        this._control_items.push(new_control);\r\n\r\n        this.controls_list_dom.appendChild(new_control.TabDOMObject);\r\n        \r\n        return new_control;\r\n    },\r\n\r\n    remove_control: function(arg) {\r\n        var index = -1;\r\n        if (typeof arg === 'object') {\r\n            index = this._control_items.indexOf(arg);\r\n        } else if (typeof arg === 'string') {\r\n            //FIND INDEX FROM ID\r\n            index = this._control_items.findIndex(function (e) { return e.id === arg; });\r\n        } else if (typeof arg === 'number') {\r\n            //USE AS INDEX        \r\n            index = arg;\r\n        }\r\n\r\n        if (index > -1) {\r\n            this._control_items[index].DOMOject.parentNode.removeChild(this._control_items[index].DOMOject);\r\n\r\n            this._control_items.splice(index, 1);\r\n        }\r\n    },\r\n\r\n    initialize_on_click: function (tab_dom) {\r\n\r\n        var open_btn = tab_dom.querySelector('a');\r\n        if (open_btn !== null && open_btn.hash !== \"\") {\r\n            open_btn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                this._onClick(tab_dom);\r\n            });\r\n\r\n            var tab_content = this.content_dom.querySelector(open_btn.hash)\r\n            if (tab_content !== null) {\r\n                var close_btn = tab_content.querySelector('.sidebar-close');\r\n                if (close_btn !== null) {\r\n                    close_btn.addEventListener('click', (e) => {\r\n                        e.preventDefault();\r\n                        this.this._onCloseClick();\r\n                    });\r\n                }\r\n            }\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Add this sidebar to the specified map.\r\n     *\r\n     * @param {L.Map} map\r\n     * @returns {Sidebar}\r\n     */\r\n    onAdd: function (map) {\r\n        this._map = map;\r\n                \r\n        return this._sidebar;\r\n    },\r\n\r\n    addTo: function (map) {\r\n        this._map = map;\r\n\r\n        return this;\r\n    },\r\n\r\n\r\n    /**\r\n     * Remove this sidebar from the map.\r\n     *\r\n     * @param {L.Map} map\r\n     * @returns {Sidebar}\r\n     */\r\n    onRemove: function (map) {\r\n        var i, child;\r\n\r\n        this._map = null;\r\n\r\n        for (i = this._tabitems.length - 1; i >= 0; i--) {\r\n            child = this._tabitems[i];\r\n            L.DomEvent.off(child.querySelector('a'), 'click', this._onClick);\r\n        }\r\n\r\n        for (i = this._control_items.length - 1; i >= 0; i--) {\r\n            child = this._control_items[i];\r\n            L.DomEvent.off(child.querySelector('a'), 'click', this._onClick);\r\n        }\r\n\r\n        for (i = this._closeButtons.length - 1; i >= 0; i--) {\r\n            child = this._closeButtons[i];\r\n            L.DomEvent.off(child, 'click', this._onCloseClick, this);\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Open sidebar (if necessary) and show the specified tab.\r\n     *\r\n     * @param {string} id - The id of the tab to show (without the # character)\r\n     */\r\n    open: function(arg) {\r\n        var i, child;\r\n\r\n        //Find ID and Tab if object or string ID is passed in\r\n        var id = '';\r\n        if (typeof arg === 'object') {\r\n            //FIND STRING ID IN OBJECT\r\n            //TODO\r\n            var index = this._tabitems.indexOf(arg);\r\n            id = this._tabitems[index].opts.id;\r\n        } else if (typeof arg === 'string') {\r\n            id = arg;\r\n        }\r\n\r\n        //If a valid ID is found\r\n        if (id !== '') {\r\n\r\n            // hide old active contents and show new content\r\n            this._sidebar.querySelectorAll('.sidebar-pane').forEach((pane) => {\r\n                pane.classList.remove('active');\r\n                if (pane.id == id)\r\n                    pane.classList.add('active');\r\n            });\r\n\r\n            // remove old active highlights and set new highlight\r\n            this._sidebar.querySelectorAll('.sidebar-tab-list > li').forEach((tab) => {\r\n                tab.classList.remove('active');\r\n                if (tab.querySelector('a').hash == '#' + id)\r\n                    tab.classList.add('active');\r\n            });\r\n\r\n            this.fire('content', { id: id });\r\n\r\n            // open sidebar (if necessary)\r\n            if (L.DomUtil.hasClass(this._sidebar, 'collapsed')) {\r\n                this.fire('opening');\r\n                L.DomUtil.removeClass(this._sidebar, 'collapsed');\r\n            }\r\n\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Close the sidebar (if necessary).\r\n     */\r\n    close: function() {\r\n        // remove old active highlights\r\n        this._sidebar.querySelectorAll('.sidebar-tab-list > li').forEach((tab) => {\r\n            tab.classList.remove('active');\r\n        });\r\n\r\n        // close sidebar\r\n        if (!L.DomUtil.hasClass(this._sidebar, 'collapsed')) {\r\n            this.fire('closing');\r\n            L.DomUtil.addClass(this._sidebar, 'collapsed');\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onClick: function (tab_dom) {\r\n        if (L.DomUtil.hasClass(tab_dom, 'active'))\r\n            this.close();\r\n        else if (!L.DomUtil.hasClass(this._sidebar, 'disabled'))\r\n            this.open(tab_dom.querySelector('a').hash.slice(1));\r\n    },\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _onCloseClick: function () {\r\n        this.close();\r\n    }\r\n});\r\n\r\n/**\r\n * Creates a new sidebar.\r\n *\r\n * @example\r\n * var sidebar = L.control.sidebar('sidebar').addTo(map);\r\n *\r\n * @param {string} id - The id of the sidebar element (without the # character)\r\n * @param {Object} [options] - Optional options object\r\n * @param {string} [options.position=left] - Position of the sidebar: 'left' or 'right'\r\n * @returns {Sidebar} A new sidebar instance\r\n */\r\nL.control.sidebar = function (id, options) {\r\n    return new L.Control.Sidebar(id, options);\r\n};\r\n\r\n//export { window.L.control.sidebar };\r\n","// extracted by mini-css-extract-plugin","﻿\r\n\r\n\r\nexport class SidebarButton {\r\n    constructor(sidebar, _opts) {\r\n        this.opts = Object.assign({}, _opts);\r\n        this.control_list_selector = 'sidebar-control-list';\r\n\r\n        this.id = _opts.id;\r\n        this.icon = _opts.icon;\r\n        this.title = _opts.title;\r\n        this.bottom_tab_list = _opts.bottom_tab_list;\r\n        this.tab_item_list = [];\r\n        this.parent_sidebar = sidebar;\r\n\r\n        if (this.opts.hasOwnProperty('states')) {\r\n            this.num_states = this.opts.states.length;\r\n            this.cur_state = 0;\r\n        }\r\n\r\n        this.control_dom = this.CreateDOMObject();\r\n\r\n        this.InitializeEvents(this.opts);\r\n        this.UpdateHTML(this.opts);\r\n    }\r\n    get DOMOject() {\r\n        return this.control_dom;\r\n    }\r\n    ClearDOMObject() {\r\n        while (this.control_dom.firstChild) {\r\n            this.control_dom.removeChild(this.control_dom.firstChild);\r\n        }\r\n    }\r\n    CreateDOMObject() {\r\n        var li = document.createElement('li');\r\n\r\n        this.parent_sidebar.dom_element.querySelectorAll(`.${this.control_list_selector}`)[0].appendChild(li);\r\n\r\n        return li;\r\n    }\r\n\r\n\r\n    UpdateHTML(opts) {\r\n        this.ClearDOMObject();\r\n\r\n        var cur_opts;\r\n        //USE STATES OR OPTS\r\n        if (opts.hasOwnProperty('states')) {\r\n            cur_opts = opts.states[this.cur_state];\r\n        } else {\r\n            cur_opts = opts;\r\n        }\r\n\r\n        var a = document.createElement('a');\r\n        a.id = this.id;\r\n        a.setAttribute('role', 'tab');\r\n\r\n        if (cur_opts.hasOwnProperty('icon')) {\r\n            var i = document.createElement('i');\r\n            i.classList.add(...cur_opts.icon.split(\" \"));\r\n            a.appendChild(i);\r\n        }\r\n\r\n\r\n        if (cur_opts.hasOwnProperty('argb')) {\r\n            let a, c;\r\n            [a, c] = Utility.color.ARGBToHexAlphaColor(cur_opts.argb);\r\n            a.style['background-color'] = c;\r\n        } else if (cur_opts.hasOwnProperty('color')) {\r\n            a.style['background-color'] = cur_opts.color;\r\n        }\r\n\r\n        //FIRE UPDATEEVENT (IF ANY)\r\n        if (cur_opts.hasOwnProperty('update_event')) {\r\n            var update_event = new Event(cur_opts.update_event);\r\n            document.dispatchEvent(update_event);\r\n        }\r\n\r\n        this.control_dom.appendChild(a);\r\n    }\r\n\r\n    InitializeEvents(opts) {\r\n        //SINGLE CLICK\r\n        this.control_dom.onclick = () => {\r\n            document.dispatchEvent(new CustomEvent(`${this.id}_click`));\r\n\r\n            //STATE\r\n            if (opts.hasOwnProperty('states')) {\r\n                //CYCLE STATE\r\n                this.cur_state++;\r\n                this.cur_state = this.cur_state >= this.num_states ? 0 : this.cur_state;\r\n\r\n                let state_opts = this.opts.states[this.cur_state];\r\n\r\n                //STATE CALLBACK\r\n                if (state_opts.hasOwnProperty('callback')) {\r\n                    state_opts.callback(this);\r\n                }\r\n\r\n                //STATE EVENT\r\n                if (state_opts.hasOwnProperty('event')) {\r\n                    let state_event = new Event(state_opts.event);\r\n                    document.dispatchEvent(state_event);\r\n                }\r\n            }\r\n\r\n\r\n            //CALLBACK\r\n            if (opts.hasOwnProperty('callback')) {\r\n                this.opts.callback(this);\r\n            }\r\n\r\n            //EVENT\r\n            if (opts.hasOwnProperty('event')) {\r\n                var event = new Event(this.opts.event);\r\n                document.dispatchEvent(event);\r\n            }\r\n\r\n            this.UpdateHTML(opts);\r\n        };\r\n\r\n\r\n    }\r\n}\r\n","﻿import { SidebarTabItem } from \"./SidebarTabItem.js\";\r\n\r\nexport class SidebarData extends SidebarTabItem {\r\n    constructor(_opts) {\r\n        super(_opts);\r\n    }\r\n}\r\n\r\n","﻿import { SidebarTabButtonPalette } from \"./SidebarTabButtonPalette.js\";\r\nimport { SidebarTabButton } from \"./SidebarTabButton.js\";\r\nimport { SidebarData } from \"./SidebarData.js\";\r\n\r\nexport class SidebarTab {\r\n    constructor(sidebar, _opts) {\r\n        this.opts = Object.assign({\r\n            icon: \"fas fa-question-circle\",\r\n            id: ``,\r\n            title: '',\r\n            data: null,\r\n            loading_msg: 'Loading...',\r\n            async: true,\r\n        }, _opts);\r\n        \r\n        this.tab_dom_object = this._initTab();\r\n        this.content_dom_object = this._initContent();\r\n\r\n        this.content_items = [];\r\n    }\r\n\r\n    _initTab() {\r\n        var li = document.createElement('li');\r\n        li.innerHTML = `<a href=\"#${this.opts.id}\" role=\"tab\"><i class=\"${this.opts.icon}\"></i></a>`;\r\n\r\n        return li; \r\n    }\r\n    _initContent() {\r\n\r\n        var div = document.createElement('div');\r\n        div.classList.add(['sidebar-pane']);\r\n        div.setAttribute('id', this.opts.id);\r\n        div.innerHTML = `<h1 class=\"sidebar-header\">\r\n                            <p style=\"margin: 0;\">${this.opts.title}</p>\r\n                            <span class=\"sidebar-close\"><i class=\"fa fa-caret-left\"></i></span>\r\n                        </h1>`;\r\n\r\n        return div;\r\n    }\r\n\r\n    AddButton(_opts) {\r\n\r\n        //CREATE TAB\r\n        var item_opts = Object.assign({\r\n            icon: \"fas fa-question-circle\",\r\n            text: ''\r\n        }, _opts);\r\n\r\n        var new_button = new SidebarTabButton(item_opts);\r\n\r\n        //ADD CONTENT\r\n        this.AddContent(new_button);\r\n\r\n        //RETURN NEW BUTTON\r\n        return new_button;\r\n    }\r\n\r\n    AddContent(tabItemContent) {\r\n        //TRACK IN CONTENT LIST\r\n        this.content_items.push(tabItemContent);\r\n\r\n        //PUSH TO DOM OBJECT \r\n        this.content_dom_object.append(tabItemContent.DOMObject);\r\n    }\r\n\r\n    async AddDataAsync(data) {\r\n        //CREATE DATA\r\n        var new_data = new SidebarData({html:'<h1>loading</h1>'});\r\n\r\n        //ADD CONTENT\r\n        this.AddContent(new_data);\r\n\r\n        var asyncData = await data();\r\n        new_data.UpdateHTML(asyncData);\r\n\r\n        return new_data;\r\n    }\r\n\r\n    AddData(_opts) {\r\n        //CREATE DATA\r\n        var new_data = new SidebarData(_opts);\r\n\r\n        //ADD CONTENT\r\n        this.AddContent(new_data);\r\n\r\n        return new_data;\r\n    }\r\n\r\n    AddButtonPalette(_opts) {\r\n\r\n        var item_opts = Object.assign({}, _opts);\r\n\r\n        //CREATE TAB\r\n        var new_button = new SidebarTabButtonPalette(this, item_opts);\r\n        \r\n        //ADD CONTENT\r\n        this.AddContent(new_button);\r\n\r\n        return new_button;\r\n    }\r\n\r\n    AddBar() {\r\n        this.AddData({ html: `<hr>` });\r\n    }\r\n\r\n    ClearItems(_opts) {\r\n\r\n        this.content_items.forEach((c) => {\r\n            //REMOVE FROM DOM\r\n            c.Remove();\r\n        });\r\n\r\n        this.content_items = [];\r\n    }\r\n\r\n    get ContentDOMObject() {\r\n        return this.content_dom_object;\r\n    }\r\n    get TabDOMObject() {\r\n        return this.tab_dom_object;\r\n    }\r\n}\r\n","﻿import { SidebarTabItem } from \"./SidebarTabItem.js\";\r\n\r\n\r\nexport class SidebarTabButton extends SidebarTabItem {\r\n    constructor(_opts) {\r\n        super(_opts);\r\n\r\n        this.dom_object = document.createElement('button');\r\n        this.dom_object.classList.add(['sidebar-menu-list-button']);\r\n        this.dom_object.setAttribute('aria-checked', 'true');\r\n        if (this.opts.hasOwnProperty('icon')) {\r\n            this.dom_object.innerHTML += `<i class=\"${this.opts.icon}\"></i>`;\r\n        }\r\n        if (this.opts.hasOwnProperty('text')) {\r\n            this.dom_object.innerHTML += `<label class=\"sidebar-menu-list-item-label\">${this.opts.text}</label>`;\r\n        }\r\n    }\r\n}\r\n","﻿import { SidebarTabItem } from \"./SidebarTabItem.js\";\r\n\r\nexport class SidebarTabButtonPalette extends SidebarTabItem {\r\n\r\n    constructor(sidebartab, _opts) {\r\n        super(sidebartab, _opts);\r\n\r\n        this.dom_object.classList.add(['sidebar-menu-button-palette']);\r\n\r\n        this.InsertButtons();\r\n    }\r\n\r\n\r\n    InsertButtons() {\r\n        this.ClearDOMObject();\r\n\r\n        if (this.opts.hasOwnProperty('buttons')) {\r\n            if (Array.isArray(this.opts.buttons)) {\r\n                this.opts.buttons.forEach((b) => {\r\n\r\n                    var b_element = document.createElement('button');\r\n                    b_element.classList.add(['palette-button']);\r\n                    var b_html;\r\n\r\n                    if (b.hasOwnProperty('icon')) {\r\n                        b_html = document.createElement('i');\r\n                        b_html.classList.add(...b.icon.split(\" \"));\r\n                    } else {\r\n                        b_html = document.createElement('div');\r\n\r\n                    }\r\n\r\n                    if (b.hasOwnProperty('color')) {\r\n                        b_element.style['background-color'] = b.color;\r\n                    }\r\n\r\n                    b_element.appendChild(b_html);\r\n\r\n                    if (b.hasOwnProperty('event')) {\r\n                        b_element.addEventListener('click', function (e) {\r\n                            var event = new Event(b.event);\r\n                            document.dispatchEvent(event);\r\n                        }, false);\r\n                    }\r\n\r\n                    this.dom_object.appendChild(b_element);\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n","﻿export class SidebarTabItem {\r\n\r\n    constructor(_opts) {\r\n        this.opts = Object.assign({}, _opts);\r\n        this.dom_object = document.createElement('div');\r\n\r\n        if (this.opts.hasOwnProperty('update_event')) {\r\n            document.addEventListener(this.opts.update_event, (e) => {\r\n                this.UpdateHTML(e.detail);\r\n            }, false);\r\n        }\r\n\r\n\r\n        if (this.opts.hasOwnProperty('event')) {\r\n            this.dom_object.addEventListener('click', (e) => {\r\n                var event = new Event(this.opts.event);\r\n                document.dispatchEvent(event);\r\n            }, false);\r\n        }\r\n\r\n        if (this.opts.hasOwnProperty('callback')) {\r\n            this.dom_object.addEventListener('click', (e) => {\r\n                this.opts.callback(e);\r\n            }, false);\r\n        }\r\n\r\n        this.SetContent(this.opts);\r\n    }\r\n\r\n    get DOMObject() {\r\n        return this.dom_object; \r\n    }\r\n\r\n    SetContent(_args) {\r\n        _args = Object.assign({ standby_content: '<div class=\"d-flex justify-content-center align-items-center garmin_drawings_loading\" style=\"width:100%;height:100%\"><small>Loading...</small></div>'}, _args);\r\n        \r\n        if (_args.hasOwnProperty('standby_content')) {\r\n            this.ReplaceContent(_args.standby_content);\r\n        }\r\n\r\n        if (typeof _args == \"string\") {\r\n            this.ReplaceContent(_args);\r\n        } else if (_args.hasOwnProperty('content')) {\r\n            this.ReplaceContent(_args.content);\r\n        } else if(_args.hasOwnProperty('html')) {\r\n            this.ReplaceContent(_args.html);\r\n        }\r\n    }\r\n    async ReplaceContent(_content) {\r\n        let newContent;\r\n        if (typeof _content === \"function\") {\r\n            newContent = await _content();\r\n        } else {\r\n            newContent = _content;\r\n        }\r\n        \r\n\r\n        if (newContent instanceof Element) {\r\n            this.dom_object.parentNode.replaceChild(newContent, this.dom_object);\r\n        } else if (typeof newContent === \"string\") {\r\n            this.dom_object.innerHTML = newContent;\r\n        }\r\n    }\r\n\r\n    AddEvent(event, callback) {\r\n        this.dom_object.addEventListener(event, async (e) => {\r\n            await callback(e);\r\n        }, false);\r\n\r\n        return this;\r\n    }\r\n\r\n    Remove() {\r\n        if (null !== this.dom_object) {\r\n            this.dom_object.parentNode.removeChild(this.dom_object);\r\n        }\r\n        this.dom_object = null;\r\n    }\r\n\r\n    ClearDOMObject() {\r\n        while (this.dom_object.firstChild) {\r\n            this.dom_object.removeChild(this.dom_object.firstChild);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}